/* === HOME PAGE — Premium Solar System === */
.home-page {
  position: relative;
  height: 100vh;
  height: 100dvh;
  padding-top: max(var(--space-6), env(safe-area-inset-top));
  padding-bottom: max(var(--space-6), env(safe-area-inset-bottom));
  background: radial-gradient(
    ellipse 80% 50% at 50% 120%,
    rgba(124, 58, 237, 0.08) 0%,
    transparent 70%
  );
  overflow: hidden;
}

/* Holographic grid overlay */
.home-page::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(rgba(124, 58, 237, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124, 58, 237, 0.02) 1px, transparent 1px);
  background-size: 60px 60px;
  pointer-events: none;
  z-index: 0;
  mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 30%, transparent 70%);
  -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 30%, transparent 70%);
}

.home-content {
  text-align: center;
  width: 100%;
  height: 100vh;
  height: 100dvh;
  position: relative;
  z-index: 1;
}

.home-badge {
  display: inline-block;
  padding: var(--space-1) var(--space-4);
  border-radius: var(--radius-full);
  background: rgba(124, 58, 237, 0.1);
  border: 1px solid rgba(124, 58, 237, 0.2);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--purple-400);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  margin-bottom: var(--space-3);
  animation: fadeIn 0.6s ease 0.2s backwards;
  font-family: var(--font-mono);
  position: relative;
  z-index: 200;
}

.home-title {
  font-size: clamp(2.5rem, 6vw, 4.5rem);
  font-weight: var(--weight-bold);
  line-height: 1.1;
  margin-bottom: 0;
  animation: fadeIn 0.6s ease 0.3s backwards;
  letter-spacing: 0.08em;
  position: relative;
  z-index: 200;
}

.home-title--cinematic .gradient-text {
  background: linear-gradient(
    135deg,
    var(--purple-200) 0%,
    var(--purple-400) 40%,
    var(--purple-300) 60%,
    var(--purple-100) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 25px rgba(124, 58, 237, 0.5))
          drop-shadow(0 0 50px rgba(124, 58, 237, 0.25));
}


/* ═══════════════════════════════════════════════
   SOLAR SYSTEM — Centered at exact screen middle
   ═══════════════════════════════════════════════ */

.orbital-system {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: clamp(400px, 75vmin, 600px);
  height: clamp(400px, 75vmin, 600px);
}

/* --- Single visible orbital ring (the path planets follow) --- */
.orbital-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 88%;
  height: 42%;
  border-radius: 50%;
  border: 1px solid rgba(124, 58, 237, 0.08);
  transform: translate(-50%, -50%);
  pointer-events: none;
  box-shadow:
    0 0 15px rgba(124, 58, 237, 0.03),
    inset 0 0 15px rgba(124, 58, 237, 0.02);
}

/* Inner decorative ring (subtle secondary track) */
.orbital-ring--inner {
  width: 60%;
  height: 28%;
  border-color: rgba(124, 58, 237, 0.04);
  box-shadow:
    0 0 8px rgba(124, 58, 237, 0.015);
}

/* --- Central Hub (Luminous Purple Sun) --- */
.orbital-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background:
    radial-gradient(
      ellipse 50% 40% at 38% 30%,
      rgba(220, 200, 255, 0.35) 0%,
      transparent 45%
    ),
    radial-gradient(
      circle at 50% 50%,
      rgba(190, 165, 255, 0.45) 0%,
      rgba(145, 100, 245, 0.3) 20%,
      rgba(124, 58, 237, 0.25) 40%,
      rgba(80, 30, 180, 0.15) 60%,
      rgba(30, 15, 60, 0.85) 80%,
      rgba(8, 4, 20, 0.95) 100%
    );
  border: 1.5px solid rgba(167, 139, 250, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  animation: sunCoreShimmer 4s ease-in-out infinite;
  box-shadow:
    inset 0 -6px 16px rgba(0, 0, 0, 0.35),
    inset 0 4px 10px rgba(220, 200, 255, 0.08),
    0 0 15px rgba(167, 139, 250, 0.5),
    0 0 35px rgba(124, 58, 237, 0.35),
    0 0 60px rgba(124, 58, 237, 0.2),
    0 0 100px rgba(124, 58, 237, 0.12),
    0 0 160px rgba(124, 58, 237, 0.05);
}

/* Internal energy sweep — rotating highlight inside the core */
.orbital-center::after {
  content: '';
  position: absolute;
  inset: 4px;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    transparent 0%,
    transparent 30%,
    rgba(167, 139, 250, 0.15) 45%,
    rgba(190, 165, 255, 0.25) 50%,
    rgba(167, 139, 250, 0.15) 55%,
    transparent 70%,
    transparent 100%
  );
  animation: sunInternalSweep 6s linear infinite;
  z-index: 1;
  mix-blend-mode: screen;
  pointer-events: none;
}

/* Internal energy pulse — breathing orb inside */
.orbital-center::before {
  content: '';
  position: absolute;
  inset: 15px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(190, 165, 255, 0.2) 0%,
    rgba(145, 100, 245, 0.1) 40%,
    transparent 70%
  );
  animation: sunInternalPulse 3s ease-in-out infinite;
  z-index: 1;
  pointer-events: none;
}

.orbital-center-text {
  font-size: 1.3rem;
  font-weight: var(--weight-bold);
  letter-spacing: 0.18em;
  background: linear-gradient(135deg, var(--purple-200), var(--purple-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  position: relative;
  z-index: 2;
}

/* Brand text inside center sphere */
.orbital-center-brand {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  position: relative;
  z-index: 2;
}

.orbital-center-brand-top {
  font-size: 1.8rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  line-height: 1;
  background: linear-gradient(
    135deg,
    var(--purple-200) 0%,
    var(--purple-400) 40%,
    var(--purple-300) 60%,
    var(--purple-100) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 12px rgba(124, 58, 237, 0.4));
}

.orbital-center-brand-bottom {
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: 0.3em;
  color: rgba(255, 255, 255, 0.55);
  line-height: 1;
}

/* "Digital Ecosystem" label — sits between orbital system and footer */
.home-ecosystem-label {
  position: fixed;
  bottom: 32px;
  left: 0;
  right: 0;
  text-align: center;
  font-family: var(--font-mono);
  font-size: 0.72rem;
  font-weight: 600;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: rgba(124, 58, 237, 0.45);
  white-space: nowrap;
  z-index: 10;
  pointer-events: none;
}

/* "Add my business" planet style */
.orbit-world-img--add {
  border-style: dashed;
  border-color: rgba(124, 58, 237, 0.25);
  background: rgba(124, 58, 237, 0.04);
  color: rgba(124, 58, 237, 0.5);
}

.orbit-world--add:hover .orbit-world-img--add {
  border-color: var(--purple-400);
  background: rgba(124, 58, 237, 0.1);
  color: var(--purple-400);
}

/* Sun corona — inner ring */
.orbital-center-corona {
  position: absolute;
  inset: -50px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(167, 139, 250, 0.12) 0%,
    rgba(124, 58, 237, 0.06) 45%,
    transparent 70%
  );
  animation: sunPulse 4s ease-in-out infinite;
  pointer-events: none;
  z-index: -1;
}

/* Sun corona — outer halo */
.orbital-center-corona--outer {
  inset: -110px;
  background: radial-gradient(
    circle,
    rgba(124, 58, 237, 0.05) 0%,
    rgba(124, 58, 237, 0.015) 50%,
    transparent 70%
  );
  animation: sunPulse 5s ease-in-out infinite reverse;
}

.orbital-center-glow {
  position: absolute;
  inset: -100px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(167, 139, 250, 0.22) 0%,
    rgba(124, 58, 237, 0.12) 25%,
    rgba(124, 58, 237, 0.04) 50%,
    transparent 70%
  );
  opacity: 0.5;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
  will-change: opacity, transform;
  animation: sunBreath 3.5s ease-in-out infinite;
}

.orbital-center-ring {
  position: absolute;
  inset: -7px;
  border-radius: 50%;
  border: 1px dashed rgba(167, 139, 250, 0.12);
  animation: orbitSpin 40s linear infinite;
}

.orbital-center-ring--reverse {
  inset: -16px;
  border-style: dotted;
  border-color: rgba(167, 139, 250, 0.06);
  animation: orbitSpin 60s linear infinite reverse;
}

/* --- Point Lights (subtle glow near center) --- */
.orbital-point-lights {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 45;
}

.point-light {
  position: absolute;
  width: 75px;
  height: 75px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(167, 139, 250, 0.3) 0%,
    rgba(124, 58, 237, 0.1) 40%,
    transparent 70%
  );
  opacity: 0;
  pointer-events: none;
  will-change: transform, opacity;
  mix-blend-mode: screen;
}

/* --- Orbit Worlds (planets — positioned by JS) --- */
.orbit-world {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 7px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  will-change: transform, opacity, filter, left, top;
  opacity: 0;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.3);
}

.orbit-world-glow {
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  width: 128px;
  height: 128px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(124, 58, 237, 0.18) 0%,
    transparent 70%
  );
  opacity: 0;
  pointer-events: none;
  will-change: opacity;
}

/* --- World Image (3D planet sphere) --- */
.orbit-world-img {
  width: 96px;
  height: 96px;
  border-radius: 50%;
  overflow: hidden;
  border: 2px solid rgba(124, 58, 237, 0.2);
  background: rgba(8, 6, 18, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* 3D sphere lighting — dynamic sun illumination via CSS vars */
.orbit-world-img::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background:
    radial-gradient(
      ellipse 55% 45% at var(--sun-x, 35%) var(--sun-y, 28%),
      rgba(167, 139, 250, 0.22) 0%,
      rgba(167, 139, 250, 0.06) 35%,
      transparent 60%
    ),
    radial-gradient(
      ellipse 100% 100% at 50% 50%,
      transparent 50%,
      rgba(0, 0, 0, 0.4) 100%
    );
  z-index: 3;
  pointer-events: none;
}

/* Specular highlight on the sphere */
.orbit-world-img::after {
  content: '';
  position: absolute;
  top: 7%;
  left: 20%;
  width: 25%;
  height: 15%;
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 50% 50%,
    rgba(255, 255, 255, 0.12) 0%,
    transparent 100%
  );
  z-index: 4;
  pointer-events: none;
}

.orbit-world-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: saturate(0.95) brightness(0.95) contrast(1.02);
  transition: filter 0.4s ease;
  position: relative;
  z-index: 1;
}

.orbit-world:hover .orbit-world-img {
  border-color: var(--purple-400) !important;
  box-shadow:
    inset 0 0 20px rgba(124, 58, 237, 0.15),
    0 0 24px rgba(124, 58, 237, 0.35),
    0 0 50px rgba(124, 58, 237, 0.12) !important;
}

.orbit-world:hover .orbit-world-img img {
  filter: saturate(1.1) brightness(0.95) contrast(1.05);
}

/* --- World Name (hidden for clean minimal look) --- */
.orbit-world-name {
  display: none;
}

.orbit-world:hover .orbit-world-name {
  opacity: 1 !important;
  text-shadow:
    0 0 12px rgba(167, 139, 250, 0.5),
    0 0 30px rgba(124, 58, 237, 0.2);
}

/* --- Ripple wave container (centered on planet) --- */
.orbit-world-ripples {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 96px;
  height: 96px;
  pointer-events: none;
  z-index: 0;
}

/* Individual ripple wave ring */
.ripple-wave {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 1.5px solid rgba(167, 139, 250, 0.5);
  animation: rippleExpand 1.6s cubic-bezier(0.2, 0.6, 0.3, 1) forwards;
  box-shadow: 0 0 8px rgba(124, 58, 237, 0.2);
}

/* --- Active planet state (orbit paused, emitting waves) --- */
.orbit-world--active .orbit-world-img {
  border-color: var(--purple-400) !important;
  box-shadow:
    inset 0 0 16px rgba(124, 58, 237, 0.12),
    0 0 20px rgba(124, 58, 237, 0.3),
    0 0 45px rgba(124, 58, 237, 0.12),
    0 0 80px rgba(124, 58, 237, 0.05) !important;
}

.orbit-world--active .orbit-world-name {
  opacity: 1 !important;
  text-shadow:
    0 0 12px rgba(167, 139, 250, 0.6),
    0 0 30px rgba(124, 58, 237, 0.3);
}


/* ═══════════════════════════════════════════════
   HOME ACTIONS & EMPTY STATE
   ═══════════════════════════════════════════════ */

.home-admin {
  position: fixed;
  top: var(--space-5);
  right: var(--space-5);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-glass);
  border: 1px solid var(--border-glass);
  border-radius: 50%;
  color: var(--text-dim);
  cursor: pointer;
  transition: all var(--transition-normal);
  z-index: 10;
  -webkit-tap-highlight-color: transparent;
}

.home-admin:hover {
  color: var(--purple-400);
  border-color: var(--purple-500);
  box-shadow: var(--shadow-glow);
}

.home-actions {
  position: fixed;
  bottom: var(--space-5);
  right: var(--space-5);
  display: flex;
  gap: var(--space-3);
  z-index: 10;
  padding-bottom: env(safe-area-inset-bottom);
}

.home-action-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: var(--bg-glass);
  border: 1px solid var(--border-glass);
  border-radius: var(--radius-full);
  color: var(--text-dim);
  font-size: 0.8rem;
  cursor: pointer;
  transition: all var(--transition-normal);
  font-family: inherit;
  backdrop-filter: blur(12px);
  -webkit-tap-highlight-color: transparent;
}

.home-action-btn:hover {
  color: var(--purple-400);
  border-color: var(--purple-500);
}

/* === Empty State === */
.home-empty {
  text-align: center;
  padding: var(--space-8) var(--space-4);
}

.home-empty-icon {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: rgba(124, 58, 237, 0.06);
  border: 1px solid rgba(124, 58, 237, 0.12);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--space-5);
  color: var(--purple-400);
}

.home-empty-title {
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  color: var(--text-primary);
  margin-bottom: var(--space-2);
}

.home-empty-text {
  color: var(--text-muted);
  font-size: var(--text-sm);
  max-width: 360px;
  margin: 0 auto;
  line-height: 1.7;
}


/* ═══════════════════════════════════════════════
   FOOTER — Developer credit
   ═══════════════════════════════════════════════ */

.home-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 0.62rem;
  color: rgba(167, 139, 250, 0.25);
  letter-spacing: 0.08em;
  padding: 10px 0;
  padding-bottom: max(10px, env(safe-area-inset-bottom));
  z-index: 5;
  pointer-events: none;
  font-family: var(--font-mono);
  text-transform: uppercase;
}


/* ═══════════════════════════════════════════════
   COSMOS BUBBLE — Compact floating notification
   ═══════════════════════════════════════════════ */

.cosmos-bubble {
  position: fixed;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  opacity: 0;
  z-index: 9999;
  background: rgba(12, 8, 28, 0.88);
  border: 1px solid rgba(124, 58, 237, 0.3);
  border-radius: 16px;
  padding: 14px 20px 12px;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  box-shadow:
    0 0 24px rgba(124, 58, 237, 0.15),
    0 8px 32px rgba(0, 0, 0, 0.45);
  transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
  min-width: 260px;
  max-width: 340px;
  pointer-events: auto;
  cursor: pointer;
}

.cosmos-bubble--visible {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.cosmos-bubble--closing {
  opacity: 0;
  transform: translateX(-50%) translateY(20px);
  transition: opacity 0.35s ease, transform 0.35s ease;
}

.cosmos-bubble-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}

.cosmos-bubble-pulse {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--purple-400);
  box-shadow: 0 0 8px rgba(167, 139, 250, 0.6);
  animation: cosmosPulse 1.5s ease-in-out infinite;
  flex-shrink: 0;
}

@keyframes cosmosPulse {
  0%, 100% { opacity: 0.5; transform: scale(0.85); }
  50% { opacity: 1; transform: scale(1.15); }
}

.cosmos-bubble-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.cosmos-bubble-name {
  font-size: 0.82rem;
  font-weight: var(--weight-semibold);
  color: var(--text-primary);
  letter-spacing: 0.03em;
}

.cosmos-bubble-msg {
  font-size: 0.7rem;
  color: var(--text-muted);
  letter-spacing: 0.02em;
}

.cosmos-bubble-bar {
  width: 100%;
  height: 2px;
  background: rgba(124, 58, 237, 0.12);
  border-radius: 2px;
  overflow: hidden;
}

.cosmos-bubble-bar-fill {
  width: 30%;
  height: 100%;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--purple-500), var(--purple-400), var(--purple-300));
  animation: cosmosBarSlide 1.8s ease-in-out infinite;
}

@keyframes cosmosBarSlide {
  0%   { transform: translateX(-100%); width: 30%; }
  50%  { width: 50%; }
  100% { transform: translateX(400%); width: 30%; }
}


/* ═══════════════════════════════════════════════
   RESPONSIVE — Solar System
   ═══════════════════════════════════════════════ */

@media (max-width: 768px) {
  .home-page {
    padding-top: 0;
  }

  .orbital-system {
    top: 50%;
    width: clamp(340px, 78vmin, 480px);
    height: clamp(340px, 78vmin, 480px);
  }

  .orbital-center {
    width: 140px;
    height: 140px;
  }

  .orbital-center-text {
    font-size: 0.9rem;
  }

  .orbital-center-brand-top {
    font-size: 1.4rem;
    letter-spacing: 0.06em;
  }

  .orbital-center-brand-bottom {
    font-size: 0.82rem;
    letter-spacing: 0.25em;
  }

  .home-ecosystem-label {
    bottom: 28px;
    font-size: 0.62rem;
  }

  .orbital-center-glow {
    inset: -65px;
  }

  .orbital-center-corona {
    inset: -32px;
  }

  .orbital-center-corona--outer {
    inset: -75px;
  }

  .orbit-world-img {
    width: 80px;
    height: 80px;
  }

  .orbit-world-ripples {
    width: 80px;
    height: 80px;
  }

  .orbit-world-name {
    font-size: 0.58rem;
  }

  .orbit-world-glow {
    width: 106px;
    height: 106px;
  }

  .point-light {
    width: 60px;
    height: 60px;
  }
}

@media (max-width: 480px) {
  .home-page {
    padding-top: 0;
  }

  .home-content {
    padding-top: 18vh;
  }

  .home-badge {
    font-size: 0.6rem;
    padding: 2px var(--space-2);
    margin-bottom: 0;
  }

  .home-title {
    font-size: clamp(1.8rem, 8vw, 2.5rem);
    letter-spacing: 0.04em;
    margin-bottom: 0;
  }

  .orbital-system {
    top: 50%;
    width: clamp(300px, 88vw, 380px);
    height: clamp(300px, 88vw, 380px);
  }

  .home-footer {
    font-size: 0.55rem;
    padding: 8px 0;
    padding-bottom: max(8px, env(safe-area-inset-bottom));
  }

  .orbital-center {
    width: 120px;
    height: 120px;
  }

  .orbital-center-text {
    font-size: 0.72rem;
    letter-spacing: 0.12em;
  }

  .orbital-center-brand-top {
    font-size: 1.15rem;
    letter-spacing: 0.05em;
  }

  .orbital-center-brand-bottom {
    font-size: 0.7rem;
    letter-spacing: 0.2em;
  }

  .home-ecosystem-label {
    bottom: 24px;
    font-size: 0.55rem;
    letter-spacing: 0.18em;
  }

  .orbital-center-glow {
    inset: -40px;
  }

  .orbital-center-corona {
    inset: -22px;
  }

  .orbital-center-corona--outer {
    inset: -48px;
  }

  .orbit-world-img {
    width: 68px;
    height: 68px;
    border-width: 1.5px;
  }

  .orbit-world-ripples {
    width: 68px;
    height: 68px;
  }

  .orbit-world-name {
    font-size: 0.52rem;
    letter-spacing: 0.05em;
  }

  .orbit-world-glow {
    width: 88px;
    height: 88px;
    top: -10px;
  }

  .point-light {
    width: 50px;
    height: 50px;
  }

  /* Bubble compact for small screens */
  .cosmos-bubble {
    min-width: 220px;
    max-width: 300px;
    bottom: 24px;
    padding: 12px 16px 10px;
    border-radius: 12px;
  }

  .cosmos-bubble-name {
    font-size: 0.76rem;
  }

  .cosmos-bubble-msg {
    font-size: 0.65rem;
  }
}


/* ═══════════════════════════════════════════════
   SUPERNOVA ANIMATION
   ═══════════════════════════════════════════════ */

.supernova-overlay {
  position: fixed;
  inset: 0;
  z-index: 9000;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.supernova-overlay--active {
  opacity: 1;
}

.supernova-overlay--fade {
  opacity: 0;
  transition: opacity 0.4s ease;
}

.supernova-flash {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(190, 165, 255, 0.7) 30%,
    rgba(124, 58, 237, 0.4) 60%,
    transparent 80%
  );
  animation: supernovaFlash 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes supernovaFlash {
  0% { width: 0; height: 0; opacity: 1; }
  40% { width: 350px; height: 350px; opacity: 0.9; }
  100% { width: 600px; height: 600px; opacity: 0; }
}

.supernova-ring {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  border-radius: 50%;
  border: 2px solid rgba(167, 139, 250, 0.6);
  box-shadow: 0 0 20px rgba(124, 58, 237, 0.4), inset 0 0 20px rgba(124, 58, 237, 0.2);
  animation: supernovaRing 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.supernova-ring--2 {
  border-color: rgba(124, 58, 237, 0.4);
  animation-delay: 0.12s;
}

.supernova-ring--3 {
  border-color: rgba(124, 58, 237, 0.25);
  border-width: 1px;
  animation-delay: 0.25s;
}

@keyframes supernovaRing {
  0% { width: 0; height: 0; opacity: 1; }
  60% { opacity: 0.7; }
  100% { width: 500px; height: 500px; opacity: 0; }
}

.supernova-particles {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
}

.supernova-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--purple-400);
  box-shadow: 0 0 6px rgba(167, 139, 250, 0.8);
  animation: supernovaParticle 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes supernovaParticle {
  0% { transform: translate(0, 0); opacity: 1; }
  100% { transform: translate(var(--dx), var(--dy)); opacity: 0; }
}


/* ═══════════════════════════════════════════════
   APPOINTMENT MODAL
   ═══════════════════════════════════════════════ */

.appt-modal-overlay {
  position: fixed;
  inset: 0;
  z-index: 9500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  opacity: 0;
  transition: opacity 0.35s ease;
  padding: var(--space-4);
}

.appt-modal-overlay--visible {
  opacity: 1;
}

.appt-modal-overlay--closing {
  opacity: 0;
  transition: opacity 0.35s ease;
}

.appt-modal {
  position: relative;
  width: 100%;
  max-width: 440px;
  max-height: 90vh;
  overflow-y: auto;
  background: rgba(12, 8, 28, 0.95);
  border: 1px solid rgba(124, 58, 237, 0.2);
  border-radius: 20px;
  padding: var(--space-6);
  box-shadow:
    0 0 40px rgba(124, 58, 237, 0.12),
    0 20px 60px rgba(0, 0, 0, 0.5);
  transform: translateY(20px) scale(0.96);
  animation: apptModalIn 0.4s cubic-bezier(0.22, 1, 0.36, 1) 0.05s forwards;
}

@keyframes apptModalIn {
  to { transform: translateY(0) scale(1); }
}

.appt-modal-close {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.4);
  cursor: pointer;
  transition: all 0.2s ease;
}

.appt-modal-close:hover {
  background: rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.8);
}

.appt-modal-header {
  text-align: center;
  margin-bottom: var(--space-5);
}

.appt-modal-icon {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: rgba(124, 58, 237, 0.1);
  border: 1px solid rgba(124, 58, 237, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--space-3);
  color: var(--purple-400);
}

.appt-modal-title {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--space-1);
  letter-spacing: 0.02em;
}

.appt-modal-subtitle {
  font-size: 0.8rem;
  color: var(--text-muted);
  line-height: 1.5;
}

.appt-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.appt-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.appt-row {
  display: flex;
  gap: var(--space-3);
}

.appt-field--half {
  flex: 1;
}

.appt-label {
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.35);
}

.appt-input {
  width: 100%;
  padding: 10px 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  color: var(--text-primary);
  font-size: 0.88rem;
  font-family: inherit;
  outline: none;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.appt-input:focus {
  border-color: rgba(124, 58, 237, 0.4);
  box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.08);
}

.appt-input::placeholder {
  color: rgba(255, 255, 255, 0.15);
}

.appt-textarea {
  resize: vertical;
  min-height: 70px;
}

.appt-submit {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 24px;
  margin-top: var(--space-2);
  background: linear-gradient(135deg, var(--purple-600), var(--purple-500));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 12px;
  color: #fff;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: all 0.25s ease;
  letter-spacing: 0.02em;
}

.appt-submit:hover {
  background: linear-gradient(135deg, var(--purple-500), var(--purple-400));
  box-shadow: 0 0 24px rgba(124, 58, 237, 0.3);
  transform: translateY(-1px);
}

.appt-submit:active {
  transform: translateY(0);
}

.appt-submit:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Success state */
.appt-success {
  text-align: center;
  padding: var(--space-6) 0;
}

.appt-success-icon {
  color: #22c55e;
  margin-bottom: var(--space-3);
  animation: apptSuccessPop 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

@keyframes apptSuccessPop {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.15); }
  100% { transform: scale(1); opacity: 1; }
}

.appt-success-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--space-2);
}

.appt-success-text {
  font-size: 0.82rem;
  color: var(--text-muted);
  line-height: 1.6;
}

@media (max-width: 480px) {
  .appt-modal {
    padding: var(--space-5);
    border-radius: 16px;
  }

  .appt-modal-title {
    font-size: 1.2rem;
  }

  .appt-row {
    flex-direction: column;
  }
}


/* ═══════════════════════════════════════════════
   CURTAIN TRANSITION — Cinematic videogame-grade
   ═══════════════════════════════════════════════ */

.curtain-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: all;
  overflow: hidden;
  perspective: 1400px;
  perspective-origin: 50% 40%;
}

/* ─── Scene dimming behind curtains ─── */
.curtain-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0);
  transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: -1;
}

.curtain-overlay--closing::before,
.curtain-overlay--closed::before {
  background: rgba(0, 0, 0, 0.7);
}

.curtain-overlay--opening::before {
  background: rgba(0, 0, 0, 0);
  transition: background 1s cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
}

/* ─── Curtain panels — 3D fabric ─── */
.curtain-panel {
  position: absolute;
  top: -4%;
  bottom: -4%;
  width: 55%;
  will-change: transform;
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

.curtain-panel--left {
  left: 0;
  transform: translate3d(-110%, 0, 0) rotateY(0deg);
  transform-origin: left center;
  background:
    /* Velvet fold creases — fine light catches */
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      rgba(167, 139, 250, 0.02) 12px,
      transparent 14px,
      transparent 28px,
      rgba(255, 255, 255, 0.012) 30px,
      transparent 32px,
      transparent 46px,
      rgba(0, 0, 0, 0.05) 48px,
      transparent 50px,
      transparent 64px,
      rgba(167, 139, 250, 0.015) 66px,
      transparent 68px,
      transparent 80px
    ),
    /* Deep fabric base — richer gradient */
    linear-gradient(
      95deg,
      #05020a 0%,
      #0a0614 12%,
      #0f0a20 25%,
      #140d2a 38%,
      #191035 50%,
      #1e1440 62%,
      #1b1238 72%,
      #150e2c 82%,
      #0d0819 92%,
      #06030d 100%
    );
  border-right: 1px solid rgba(167, 139, 250, 0.08);
  box-shadow:
    12px 0 60px rgba(0, 0, 0, 0.8),
    5px 0 20px rgba(124, 58, 237, 0.05);
}

.curtain-panel--right {
  right: 0;
  transform: translate3d(110%, 0, 0) rotateY(0deg);
  transform-origin: right center;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      rgba(167, 139, 250, 0.02) 12px,
      transparent 14px,
      transparent 28px,
      rgba(255, 255, 255, 0.012) 30px,
      transparent 32px,
      transparent 46px,
      rgba(0, 0, 0, 0.05) 48px,
      transparent 50px,
      transparent 64px,
      rgba(167, 139, 250, 0.015) 66px,
      transparent 68px,
      transparent 80px
    ),
    linear-gradient(
      -95deg,
      #05020a 0%,
      #0a0614 12%,
      #0f0a20 25%,
      #140d2a 38%,
      #191035 50%,
      #1e1440 62%,
      #1b1238 72%,
      #150e2c 82%,
      #0d0819 92%,
      #06030d 100%
    );
  border-left: 1px solid rgba(167, 139, 250, 0.08);
  box-shadow:
    -12px 0 60px rgba(0, 0, 0, 0.8),
    -5px 0 20px rgba(124, 58, 237, 0.05);
}

/* Gold trim along inner edges */
.curtain-panel--left::after,
.curtain-panel--right::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(
    180deg,
    rgba(212, 175, 55, 0.04) 0%,
    rgba(212, 175, 55, 0.15) 15%,
    rgba(212, 175, 55, 0.3) 35%,
    rgba(212, 175, 55, 0.4) 50%,
    rgba(212, 175, 55, 0.3) 65%,
    rgba(212, 175, 55, 0.15) 85%,
    rgba(212, 175, 55, 0.04) 100%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.curtain-overlay--closing .curtain-panel--left::after,
.curtain-overlay--closing .curtain-panel--right::after,
.curtain-overlay--closed .curtain-panel--left::after,
.curtain-overlay--closed .curtain-panel--right::after {
  opacity: 1;
  transition: opacity 0.3s ease 0.8s;
}

.curtain-panel--left::after { right: 0; }
.curtain-panel--right::after { left: 0; }

/* Drape folds texture overlay */
.curtain-panel--left::before,
.curtain-panel--right::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 38px,
      rgba(0, 0, 0, 0.06) 40px,
      rgba(0, 0, 0, 0.09) 42px,
      rgba(0, 0, 0, 0.06) 44px,
      transparent 46px,
      transparent 78px,
      rgba(255, 255, 255, 0.008) 80px,
      transparent 82px,
      transparent 100px
    );
  pointer-events: none;
}

/* ─── Dynamic fabric shadow — shifts with movement ─── */
.curtain-fabric-shadow {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  pointer-events: none;
  z-index: 5;
}

.curtain-fabric-shadow--left {
  background: linear-gradient(90deg,
    transparent 0%,
    transparent 70%,
    rgba(0, 0, 0, 0.3) 90%,
    rgba(0, 0, 0, 0.6) 100%
  );
}

.curtain-fabric-shadow--right {
  background: linear-gradient(270deg,
    transparent 0%,
    transparent 70%,
    rgba(0, 0, 0, 0.3) 90%,
    rgba(0, 0, 0, 0.6) 100%
  );
}

/* ═══════════════════════════════════════════════
   CLOSE — Silky glide in with gentle 3D fold
   Uses translate3d + rotateY for depth illusion
   Many keyframes for buttery 60fps interpolation
   ═══════════════════════════════════════════════ */
.curtain-overlay--closing .curtain-panel--left {
  animation: curtainCloseLeft 1.4s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
}

.curtain-overlay--closing .curtain-panel--right {
  animation: curtainCloseRight 1.4s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
}

@keyframes curtainCloseLeft {
  0%   { transform: translate3d(-110%, 0, 0) rotateY(0deg)   scaleX(1); }
  5%   { transform: translate3d(-105%, 0, 0) rotateY(-1deg)  scaleX(1); }
  12%  { transform: translate3d(-88%, 0, 0)  rotateY(-2.5deg) scaleX(0.99); }
  22%  { transform: translate3d(-62%, 0, 0)  rotateY(-3.5deg) scaleX(0.98); }
  34%  { transform: translate3d(-35%, 0, 0)  rotateY(-3deg)  scaleX(0.985); }
  46%  { transform: translate3d(-14%, 0, 0)  rotateY(-2deg)  scaleX(0.99); }
  56%  { transform: translate3d(-4%, 0, 0)   rotateY(-1deg)  scaleX(0.995); }
  64%  { transform: translate3d(1.5%, 0, 0)  rotateY(0.6deg) scaleX(1.003); }
  72%  { transform: translate3d(-0.6%, 0, 0) rotateY(-0.3deg) scaleX(0.999); }
  80%  { transform: translate3d(0.3%, 0, 0)  rotateY(0.15deg) scaleX(1.001); }
  88%  { transform: translate3d(-0.1%, 0, 0) rotateY(-0.05deg) scaleX(1); }
  94%  { transform: translate3d(0.03%, 0, 0) rotateY(0.02deg) scaleX(1); }
  100% { transform: translate3d(0%, 0, 0)    rotateY(0deg)   scaleX(1); }
}

@keyframes curtainCloseRight {
  0%   { transform: translate3d(110%, 0, 0)  rotateY(0deg)   scaleX(1); }
  5%   { transform: translate3d(105%, 0, 0)  rotateY(1deg)   scaleX(1); }
  12%  { transform: translate3d(88%, 0, 0)   rotateY(2.5deg) scaleX(0.99); }
  22%  { transform: translate3d(62%, 0, 0)   rotateY(3.5deg) scaleX(0.98); }
  34%  { transform: translate3d(35%, 0, 0)   rotateY(3deg)   scaleX(0.985); }
  46%  { transform: translate3d(14%, 0, 0)   rotateY(2deg)   scaleX(0.99); }
  56%  { transform: translate3d(4%, 0, 0)    rotateY(1deg)   scaleX(0.995); }
  64%  { transform: translate3d(-1.5%, 0, 0) rotateY(-0.6deg) scaleX(1.003); }
  72%  { transform: translate3d(0.6%, 0, 0)  rotateY(0.3deg) scaleX(0.999); }
  80%  { transform: translate3d(-0.3%, 0, 0) rotateY(-0.15deg) scaleX(1.001); }
  88%  { transform: translate3d(0.1%, 0, 0)  rotateY(0.05deg) scaleX(1); }
  94%  { transform: translate3d(-0.03%, 0, 0) rotateY(-0.02deg) scaleX(1); }
  100% { transform: translate3d(0%, 0, 0)    rotateY(0deg)   scaleX(1); }
}

/* ═══════════════════════════════════════════════
   OPEN — Sweeping reveal with fabric weight
   Slower start (inertia), smooth acceleration,
   gentle settle with micro-bounces
   ═══════════════════════════════════════════════ */
.curtain-overlay--opening .curtain-panel--left {
  animation: curtainOpenLeft 1.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.curtain-overlay--opening .curtain-panel--right {
  animation: curtainOpenRight 1.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes curtainOpenLeft {
  0%   { transform: translate3d(0%, 0, 0)     rotateY(0deg)    scaleX(1); }
  3%   { transform: translate3d(0.8%, 0, 0)   rotateY(0.5deg)  scaleX(1.004); }
  8%   { transform: translate3d(0.3%, 0, 0)   rotateY(0.2deg)  scaleX(1.001); }
  14%  { transform: translate3d(-6%, 0, 0)    rotateY(-1.5deg) scaleX(0.995); }
  22%  { transform: translate3d(-22%, 0, 0)   rotateY(-3deg)   scaleX(0.985); }
  32%  { transform: translate3d(-48%, 0, 0)   rotateY(-4deg)   scaleX(0.978); }
  42%  { transform: translate3d(-72%, 0, 0)   rotateY(-3.5deg) scaleX(0.982); }
  52%  { transform: translate3d(-90%, 0, 0)   rotateY(-2.5deg) scaleX(0.988); }
  62%  { transform: translate3d(-103%, 0, 0)  rotateY(-1.2deg) scaleX(0.994); }
  72%  { transform: translate3d(-112%, 0, 0)  rotateY(0.5deg)  scaleX(1.002); }
  80%  { transform: translate3d(-109%, 0, 0)  rotateY(-0.3deg) scaleX(0.999); }
  87%  { transform: translate3d(-110.5%, 0, 0) rotateY(0.1deg) scaleX(1.001); }
  93%  { transform: translate3d(-109.8%, 0, 0) rotateY(-0.03deg) scaleX(1); }
  100% { transform: translate3d(-110%, 0, 0)  rotateY(0deg)    scaleX(1); }
}

@keyframes curtainOpenRight {
  0%   { transform: translate3d(0%, 0, 0)     rotateY(0deg)    scaleX(1); }
  3%   { transform: translate3d(-0.8%, 0, 0)  rotateY(-0.5deg) scaleX(1.004); }
  8%   { transform: translate3d(-0.3%, 0, 0)  rotateY(-0.2deg) scaleX(1.001); }
  14%  { transform: translate3d(6%, 0, 0)     rotateY(1.5deg)  scaleX(0.995); }
  22%  { transform: translate3d(22%, 0, 0)    rotateY(3deg)    scaleX(0.985); }
  32%  { transform: translate3d(48%, 0, 0)    rotateY(4deg)    scaleX(0.978); }
  42%  { transform: translate3d(72%, 0, 0)    rotateY(3.5deg)  scaleX(0.982); }
  52%  { transform: translate3d(90%, 0, 0)    rotateY(2.5deg)  scaleX(0.988); }
  62%  { transform: translate3d(103%, 0, 0)   rotateY(1.2deg)  scaleX(0.994); }
  72%  { transform: translate3d(112%, 0, 0)   rotateY(-0.5deg) scaleX(1.002); }
  80%  { transform: translate3d(109%, 0, 0)   rotateY(0.3deg)  scaleX(0.999); }
  87%  { transform: translate3d(110.5%, 0, 0) rotateY(-0.1deg) scaleX(1.001); }
  93%  { transform: translate3d(109.8%, 0, 0) rotateY(0.03deg) scaleX(1); }
  100% { transform: translate3d(110%, 0, 0)   rotateY(0deg)    scaleX(1); }
}

/* ─── Center seam glow — wider, softer ─── */
.curtain-seam {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 6px;
  transform: translateX(-50%);
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(212, 175, 55, 0.08) 15%,
    rgba(167, 139, 250, 0.2) 40%,
    rgba(212, 175, 55, 0.25) 50%,
    rgba(167, 139, 250, 0.2) 60%,
    rgba(212, 175, 55, 0.08) 85%,
    transparent 100%
  );
  opacity: 0;
  z-index: 10;
  filter: blur(1px);
}

/* Seam halo — wide soft light bleed */
.curtain-seam-halo {
  position: absolute;
  top: 5%;
  bottom: 5%;
  left: 50%;
  width: 40px;
  transform: translateX(-50%);
  background: radial-gradient(
    ellipse at center,
    rgba(167, 139, 250, 0.08) 0%,
    rgba(124, 58, 237, 0.04) 40%,
    transparent 70%
  );
  opacity: 0;
  z-index: 9;
  filter: blur(6px);
}

.curtain-overlay--closing .curtain-seam {
  animation: seamFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) 1s forwards;
}
.curtain-overlay--closing .curtain-seam-halo {
  animation: seamFadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.9s forwards;
}

.curtain-overlay--closed .curtain-seam,
.curtain-overlay--closed .curtain-seam-halo {
  opacity: 1;
}

.curtain-overlay--opening .curtain-seam {
  animation: seamFadeOut 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
.curtain-overlay--opening .curtain-seam-halo {
  animation: seamFadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes seamFadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes seamFadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

/* ─── Light leak — cinematic reveal during open ─── */
.curtain-light-leak {
  position: absolute;
  top: -10%;
  bottom: -10%;
  left: 50%;
  width: 0;
  transform: translateX(-50%);
  background: radial-gradient(
    ellipse at center,
    rgba(167, 139, 250, 0.12) 0%,
    rgba(124, 58, 237, 0.06) 30%,
    rgba(255, 255, 255, 0.03) 50%,
    transparent 70%
  );
  opacity: 0;
  z-index: 8;
  filter: blur(20px);
  transition: none;
}

.curtain-overlay--opening .curtain-light-leak {
  animation: lightLeak 1.4s cubic-bezier(0.16, 1, 0.3, 1) 0.05s forwards;
}

@keyframes lightLeak {
  0%   { width: 0;    opacity: 0; }
  15%  { width: 30px; opacity: 0.7; }
  40%  { width: 200px; opacity: 0.5; }
  70%  { width: 500px; opacity: 0.25; }
  100% { width: 110vw; opacity: 0; }
}

/* ─── Top valance (pelmet) — more depth ─── */
.curtain-valance {
  position: absolute;
  top: 0;
  left: -2%;
  right: -2%;
  height: 40px;
  z-index: 20;
  background:
    linear-gradient(
      180deg,
      #0e0918 0%,
      #140d28 40%,
      #1a1038 70%,
      rgba(26, 16, 56, 0.85) 90%,
      rgba(26, 16, 56, 0) 100%
    );
  border-bottom: 1.5px solid rgba(212, 175, 55, 0.15);
  box-shadow:
    0 6px 30px rgba(0, 0, 0, 0.6),
    0 2px 8px rgba(0, 0, 0, 0.4);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.curtain-overlay--closing .curtain-valance {
  animation: valanceIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.4s forwards;
}

.curtain-overlay--closed .curtain-valance {
  opacity: 1;
}

.curtain-overlay--opening .curtain-valance {
  animation: valanceOut 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
}

@keyframes valanceIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes valanceOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

.curtain-valance::after {
  content: '';
  position: absolute;
  bottom: -12px;
  left: 0;
  right: 0;
  height: 12px;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.3), transparent);
}
